@model IEnumerable<BlowOut.Models.Client>

@{
    ViewBag.Title = "UpdateData";
}

<h2>UpdateData</h2>

@ViewBag.username <br />
@ViewBag.password

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.firstName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.lastName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.address)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.city)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.state)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.zip)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.phone)
        </th>
        <th>
            @Html.DisplayName("Instrument")
        </th>
        <th>
            @Html.DisplayName("Condition")
        </th>
        <th>
            @Html.DisplayName("Price")
        </th>
        <th></th>
        <th></th>
    </tr>

    @{int count = 0;}

    @foreach (var item in Model)
    {
        {count = 0;}

            foreach (var item2 in ViewBag.Instrument)
            {
                if (item.clientID == item2.clientID)
                {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.firstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.lastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.address)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.city)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.state)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.zip)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.email)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.phone)
            </td>
            <td>  
                    @item2.desc                
            </td>
            <td>
                    @item2.type
            </td>
            <td>
                   $@item2.price
            </td>
            <td></td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.clientID }) |
                @Html.ActionLink("Delete", "Delete", new { clientID = item.clientID, instrumentID = item2.instrumentID })
                @{count++;}
            </td>
        </tr>
                }

            }
            if (count == 0)
               {
                   <tr>
                       <td>
                           @Html.DisplayFor(modelItem => item.firstName)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.lastName)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.address)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.city)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.state)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.zip)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.email)
                       </td>
                       <td>
                           @Html.DisplayFor(modelItem => item.phone)
                      </td>
                       <td></td>
                       <td></td>
                       <td></td>
                       <td></td>
                       <td>
                           @Html.ActionLink("Edit", "Edit", new { id = item.clientID }) |
                           @Html.ActionLink("Delete", "Delete", new { ClientID = item.clientID, instrumentID = 0})
                       </td>
                       @{count++;}
                   </tr>
            }
    }

</table>